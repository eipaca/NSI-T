
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Ressources pour le cours de Terminale NSI de l'Ecole Internationale PACA">
      
      
        <meta name="author" content="Fabrice Perez">
      
      
        <link rel="canonical" href="https://eipaca.github.io/NSI-T/algorithmique/5-recherche-textuelle/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.21">
    
    
      
        <title>Recherche textuelle - Ressources de Terminale NSI</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.2a3383ac.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
    
      
      
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1%207.775V2.75C1%201.784%201.784%201%202.75%201h5.025c.464%200%20.91.184%201.238.513l6.25%206.25a1.75%201.75%200%200%201%200%202.474l-5.026%205.026a1.75%201.75%200%200%201-2.474%200l-6.25-6.25A1.75%201.75%200%200%201%201%207.775m1.5%200c0%20.066.026.13.073.177l6.25%206.25a.25.25%200%200%200%20.354%200l5.025-5.025a.25.25%200%200%200%200-.354l-6.25-6.25a.25.25%200%200%200-.177-.073H2.75a.25.25%200%200%200-.25.25ZM6%205a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.5%201.75v11.5c0%20.138.112.25.25.25h3.17a.75.75%200%200%201%200%201.5H2.75A1.75%201.75%200%200%201%201%2013.25V1.75C1%20.784%201.784%200%202.75%200h8.5C12.216%200%2013%20.784%2013%201.75v7.736a.75.75%200%200%201-1.5%200V1.75a.25.25%200%200%200-.25-.25h-8.5a.25.25%200%200%200-.25.25m13.274%209.537zl-4.557%204.45a.75.75%200%200%201-1.055-.008l-1.943-1.95a.75.75%200%200%201%201.062-1.058l1.419%201.425%204.026-3.932a.75.75%200%201%201%201.048%201.074M4.75%204h4.5a.75.75%200%200%201%200%201.5h-4.5a.75.75%200%200%201%200-1.5M4%207.75A.75.75%200%200%201%204.75%207h2a.75.75%200%200%201%200%201.5h-2A.75.75%200%200%201%204%207.75%22/%3E%3C/svg%3E');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.5%207.75A.75.75%200%200%201%207.25%207h1a.75.75%200%200%201%20.75.75v2.75h.25a.75.75%200%200%201%200%201.5h-2a.75.75%200%200%201%200-1.5h.25v-2h-.25a.75.75%200%200%201-.75-.75M8%206a1%201%200%201%201%200-2%201%201%200%200%201%200%202%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5%208.25a.75.75%200%200%201%20.75-.75h4a.75.75%200%200%201%200%201.5h-4A.75.75%200%200%201%205%208.25M4%2010.5A.75.75%200%200%200%204%2012h4a.75.75%200%200%200%200-1.5z%22/%3E%3Cpath%20d%3D%22M13-.005c1.654%200%203%201.328%203%203%200%20.982-.338%201.933-.783%202.818-.443.879-1.028%201.758-1.582%202.588l-.011.017c-.568.853-1.104%201.659-1.501%202.446-.398.789-.623%201.494-.623%202.136a1.5%201.5%200%201%200%202.333-1.248.75.75%200%200%201%20.834-1.246A3%203%200%200%201%2013%2016H3a3%203%200%200%201-3-3c0-1.582.891-3.135%201.777-4.506q.315-.483.623-.946c.473-.709.923-1.386%201.287-2.048H2.51c-.576%200-1.381-.133-1.907-.783A2.68%202.68%200%200%201%200%202.995a3%203%200%200%201%203-3Zm0%201.5a1.5%201.5%200%200%200-1.5%201.5c0%20.476.223.834.667%201.132A.75.75%200%200%201%2011.75%205.5H5.368c-.467%201.003-1.141%202.015-1.773%202.963-.192.289-.381.571-.558.845C2.13%2010.711%201.5%2011.916%201.5%2013A1.5%201.5%200%200%200%203%2014.5h7.401A3%203%200%200%201%2010%2013c0-.979.338-1.928.784-2.812.441-.874%201.023-1.748%201.575-2.576l.017-.026c.568-.853%201.103-1.658%201.501-2.448s.623-1.497.623-2.143c0-.838-.669-1.5-1.5-1.5m-10%200a1.5%201.5%200%200%200-1.5%201.5c0%20.321.1.569.27.778.097.12.325.227.74.227h7.674A2.7%202.7%200%200%201%2010%202.995c0-.546.146-1.059.401-1.5Z%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M13.78%204.22a.75.75%200%200%201%200%201.06l-7.25%207.25a.75.75%200%200%201-1.06%200L2.22%209.28a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018L6%2010.94l6.72-6.72a.75.75%200%200%201%201.06%200%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M0%208a8%208%200%201%201%2016%200A8%208%200%200%201%200%208m8-6.5a6.5%206.5%200%201%200%200%2013%206.5%206.5%200%200%200%200-13M6.92%206.085h.001a.749.749%200%201%201-1.342-.67c.169-.339.436-.701.849-.977C6.845%204.16%207.369%204%208%204a2.76%202.76%200%200%201%201.637.525c.503.377.863.965.863%201.725%200%20.448-.115.83-.329%201.15-.205.307-.47.513-.692.662-.109.072-.22.138-.313.195l-.006.004a6%206%200%200%200-.26.16%201%201%200%200%200-.276.245.75.75%200%200%201-1.248-.832c.184-.264.42-.489.692-.661q.154-.1.313-.195l.007-.004c.1-.061.182-.11.258-.161a1%201%200%200%200%20.277-.245C8.96%206.514%209%206.427%209%206.25a.61.61%200%200%200-.262-.525A1.27%201.27%200%200%200%208%205.5c-.369%200-.595.09-.74.187a1%201%200%200%200-.34.398M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M6.457%201.047c.659-1.234%202.427-1.234%203.086%200l6.082%2011.378A1.75%201.75%200%200%201%2014.082%2015H1.918a1.75%201.75%200%200%201-1.543-2.575Zm1.763.707a.25.25%200%200%200-.44%200L1.698%2013.132a.25.25%200%200%200%20.22.368h12.164a.25.25%200%200%200%20.22-.368Zm.53%203.996v2.5a.75.75%200%200%201-1.5%200v-2.5a.75.75%200%200%201%201.5%200M9%2011a1%201%200%201%201-2%200%201%201%200%200%201%202%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2.344%202.343za8%208%200%200%201%2011.314%2011.314A8.002%208.002%200%200%201%20.234%2010.089a8%208%200%200%201%202.11-7.746m1.06%2010.253a6.5%206.5%200%201%200%209.108-9.275%206.5%206.5%200%200%200-9.108%209.275M6.03%204.97%208%206.94l1.97-1.97a.749.749%200%200%201%201.275.326.75.75%200%200%201-.215.734L9.06%208l1.97%201.97a.749.749%200%200%201-.326%201.275.75.75%200%200%201-.734-.215L8%209.06l-1.97%201.97a.749.749%200%200%201-1.275-.326.75.75%200%200%201%20.215-.734L6.94%208%204.97%206.03a.75.75%200%200%201%20.018-1.042.75.75%200%200%201%201.042-.018%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M9.504.43a1.516%201.516%200%200%201%202.437%201.713L10.415%205.5h2.123c1.57%200%202.346%201.909%201.22%203.004l-7.34%207.142a1.25%201.25%200%200%201-.871.354h-.302a1.25%201.25%200%200%201-1.157-1.723L5.633%2010.5H3.462c-1.57%200-2.346-1.909-1.22-3.004zm1.047%201.074L3.286%208.571A.25.25%200%200%200%203.462%209H6.75a.75.75%200%200%201%20.694%201.034l-1.713%204.188%206.982-6.793A.25.25%200%200%200%2012.538%207H9.25a.75.75%200%200%201-.683-1.06l2.008-4.418.003-.006-.004-.009-.006-.006-.008-.001q-.005%200-.009.004%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M4.72.22a.75.75%200%200%201%201.06%200l1%20.999a3.5%203.5%200%200%201%202.441%200l.999-1a.748.748%200%200%201%201.265.332.75.75%200%200%201-.205.729l-.775.776c.616.63.995%201.493.995%202.444v.327q0%20.15-.025.292c.408.14.764.392%201.029.722l1.968-.787a.75.75%200%200%201%20.556%201.392L13%207.258V9h2.25a.75.75%200%200%201%200%201.5H13v.5q-.002.615-.141%201.186l2.17.868a.75.75%200%200%201-.557%201.392l-2.184-.873A5%205%200%200%201%208%2016a5%205%200%200%201-4.288-2.427l-2.183.873a.75.75%200%200%201-.558-1.392l2.17-.868A5%205%200%200%201%203%2011v-.5H.75a.75.75%200%200%201%200-1.5H3V7.258L.971%206.446a.75.75%200%200%201%20.558-1.392l1.967.787c.265-.33.62-.583%201.03-.722a1.7%201.7%200%200%201-.026-.292V4.5c0-.951.38-1.814.995-2.444L4.72%201.28a.75.75%200%200%201%200-1.06m.53%206.28a.75.75%200%200%200-.75.75V11a3.5%203.5%200%201%200%207%200V7.25a.75.75%200%200%200-.75-.75ZM6.173%205h3.654A.17.17%200%200%200%2010%204.827V4.5a2%202%200%201%200-4%200v.327c0%20.096.077.173.173.173%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5%205.782V2.5h-.25a.75.75%200%200%201%200-1.5h6.5a.75.75%200%200%201%200%201.5H11v3.282l3.666%205.76C15.619%2013.04%2014.543%2015%2012.767%2015H3.233c-1.776%200-2.852-1.96-1.899-3.458Zm-2.4%206.565a.75.75%200%200%200%20.633%201.153h9.534a.75.75%200%200%200%20.633-1.153L12.225%2010.5h-8.45ZM9.5%202.5h-3V6c0%20.143-.04.283-.117.403L4.73%209h6.54L9.617%206.403A.75.75%200%200%201%209.5%206Z%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M1.75%202.5h10.5a.75.75%200%200%201%200%201.5H1.75a.75.75%200%200%201%200-1.5m4%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5m0%205h8.5a.75.75%200%200%201%200%201.5h-8.5a.75.75%200%200%201%200-1.5M2.5%207.75v6a.75.75%200%200%201-1.5%200v-6a.75.75%200%200%201%201.5%200%22/%3E%3C/svg%3E');}</style>



    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#recherche-textuelle" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="../.." title="Ressources de Terminale NSI" class="md-header__button md-logo" aria-label="Ressources de Terminale NSI" data-md-component="logo">
      
  <img src="../../assets/logo-ecole-internationale-paca-manosque.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Ressources de Terminale NSI
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Recherche textuelle
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Passer en mode sombre"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Passer en mode sombre" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Passer en mode clair"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Passer en mode clair" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/eipaca/NSI-T" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  A propos

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../langages-et-programmation/" class="md-tabs__link">
          
  
  
    
  
  Langages et programmation

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../bases-de-donnees/" class="md-tabs__link">
          
  
  
    
  
  Bases de données

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../structures-de-donnees/" class="md-tabs__link">
          
  
  
    
  
  Structures de données

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Ressources de Terminale NSI" class="md-nav__button md-logo" aria-label="Ressources de Terminale NSI" data-md-component="logo">
      
  <img src="../../assets/logo-ecole-internationale-paca-manosque.png" alt="logo">

    </a>
    Ressources de Terminale NSI
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/eipaca/NSI-T" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    A propos
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../langages-et-programmation/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Langages et programmation
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../bases-de-donnees/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Bases de données
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
      
      
        
      
    
    
      
        
        
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
  
    <a href="../../structures-de-donnees/" class="md-nav__link">
      
  
  
  <span class="md-ellipsis">
    Structures de données
    
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="recherche-textuelle">Recherche textuelle</h1>
<p>Chercher un mot dans une chaine de caractères est un besoin très fréquent, par exemple quand on utilise <code>CTRL+F</code>  dans un fichier ou sur une page web.  En Python, la recherche textuelle est nativement présente avec les instructions <code>motif in chaine</code> ou <code>chaine.index(motif)</code> et <code>chaine.find(motif)</code>. En linux, la commande <code>grep motif nom_fichier</code>permet de rechercher une chaine de caractère <code>motif</code>dans le fichier <code>nom_fichier</code>.</p>
<div class="admonition abstract">
<p class="admonition-title">Cours</p>
<p>La recherche  textuelle consiste à trouver les occurrences d'une sous-chaîne, appelée <strong>motif</strong> ou <strong>clé</strong>, dans une <strong>chaine</strong> de caractères. </p>
</div>
<p>Il existe de nombreux algorithmes de recherche textuelle, on étudie dans ce chapitre l'algorithme de Boyer-Moore et sa version simplifiée de Horpsool sur un exemple de bio-informatique : chercher la séquence <code>TCACTC</code> (le motif) dans un brin d'ADN <code>CTTCCGCTCGTATTCGTCTCACTCG</code> (la chaine).</p>
<h2 id="recherche-naive-par-force-brute">Recherche naïve par « force brute »</h2>
<p>Il s'agit de faire « glisser » caractère après caractère le motif de gauche à droite pour parcourir toute la chaîne, et de vérifier pour chaque caractère du motif s'il correspond à celui de la chaine. Ce traitement est long, mais on est certain d'obtenir le bon résultat.</p>
<p>Commençons par aligner le motif à gauche de la chaine et par comparer le premier caractère du motif à celui de la chaine :</p>
<p><img alt="Recherche naïve - étape 1" src="../assets/5-naive-1.png" /></p>
<p>Le <code>T</code> du motif ne correspond pas au <code>C</code> de la chaine. On décale le motif d'un caractère vers la droite et on essaie à nouveau :</p>
<p><img alt="Recherche naïve - étape 2" src="../assets/5-naive-2.png" /></p>
<p>Cette fois le <code>T</code> du motif correspond à celui de la chaine . On passe au caractère suivant à droite : le <code>C</code> du motif ne correspond pas au <code>T</code>. On décale le motif d'un caractère vers la droite :</p>
<p><img alt="Recherche naïve - étape 3" src="../assets/5-naive-3.png" /></p>
<p>Le <code>T</code> puis le <code>C</code> du motif correspondent aux caractères de la chaine, mais le <code>A</code> ne correspond pas au <code>C</code>. On décale le motif d'un caractère vers la droite :</p>
<p><img alt="Recherche naïve - étape 4" src="../assets/5-naive-4.png" /></p>
<p>Le <code>T</code> du motif ne  correspond pas au <code>C</code> de la chaine. On décale le motif d'un caractère vers la droite :</p>
<p>L'opération se répète jusqu'à trouver tous les caractères du motif qui correspondent à ceux de la chaine. </p>
<p><img alt="Recherche naïve - étape 5" src="../assets/5-naive-5.png" /></p>
<p>Le recherche naïve est très longue car il faut parcourir toute la chaîne, caractère par caractère, et à chaque fois comparer un ou plusieurs caractères du motif avec ceux de la chaine jusqu'à en trouver un qui ne coïncide pas.  Dans le pire des cas, le motif et la chaine contiennent tous les deux une seule et même lettre, le coût est donc en <span class="arithmatex">\(O(n \times m)\)</span>, où <span class="arithmatex">\(n\)</span> est la longueur de la chaine et <span class="arithmatex">\(m\)</span> celle du motif. Et dans le meilleur des cas, le premier caractère du motif n'est pas présent dans la chaine, le coût est en <span class="arithmatex">\(O(n)\)</span>.</p>
<div class="admonition abstract">
<p class="admonition-title">Cours</p>
<p>L'algorithme de recherche naïve, ou par « force brute », consiste à comparer les caractères du motif avec ceux de la chaine un par un de gauche à droite jusqu'à trouver une différence. Quand une différence est trouvée, on fait « glisser » le motif d'un caractère vers la droite et on recommence.</p>
</div>
<p>Traduit en Python, on obtient le programme suivant :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-0-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-0-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-0-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-0-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-0-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-0-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-0-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-0-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-0-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-0-10">10</a></span>
<span class="normal"><a href="#__codelineno-0-11">11</a></span>
<span class="normal"><a href="#__codelineno-0-12">12</a></span>
<span class="normal"><a href="#__codelineno-0-13">13</a></span>
<span class="normal"><a href="#__codelineno-0-14">14</a></span>
<span class="normal"><a href="#__codelineno-0-15">15</a></span>
<span class="normal"><a href="#__codelineno-0-16">16</a></span>
<span class="normal"><a href="#__codelineno-0-17">17</a></span>
<span class="normal"><a href="#__codelineno-0-18">18</a></span>
<span class="normal"><a href="#__codelineno-0-19">19</a></span>
<span class="normal"><a href="#__codelineno-0-20">20</a></span>
<span class="normal"><a href="#__codelineno-0-21">21</a></span>
<span class="normal"><a href="#__codelineno-0-22">22</a></span>
<span class="normal"><a href="#__codelineno-0-23">23</a></span>
<span class="normal"><a href="#__codelineno-0-24">24</a></span>
<span class="normal"><a href="#__codelineno-0-25">25</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">naive</span><span class="p">(</span><span class="n">motif</span><span class="p">,</span> <span class="n">chaine</span><span class="p">):</span>
<a id="__codelineno-0-2" name="__codelineno-0-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; str, str -&gt; list</span>
<a id="__codelineno-0-3" name="__codelineno-0-3"></a><span class="sd">    Renvoie la liste des positions trouvées du motif dans la chaîne</span>
<a id="__codelineno-0-4" name="__codelineno-0-4"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-0-5" name="__codelineno-0-5"></a>    <span class="n">positions</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-0-6" name="__codelineno-0-6"></a>    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7"></a>    <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">motif</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8"></a>    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>    <span class="c1"># position du début du motif dans la chaine</span>
<a id="__codelineno-0-9" name="__codelineno-0-9"></a>    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span> <span class="p">:</span>
<a id="__codelineno-0-10" name="__codelineno-0-10"></a>        <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span>       <span class="c1"># position du caractère dans le motif</span>
<a id="__codelineno-0-11" name="__codelineno-0-11"></a>        <span class="k">while</span> <span class="n">j</span> <span class="o">&lt;=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span> <span class="ow">and</span> <span class="n">chaine</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">motif</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
<a id="__codelineno-0-12" name="__codelineno-0-12"></a>            <span class="n">j</span> <span class="o">=</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-0-13" name="__codelineno-0-13"></a>        <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="n">m</span><span class="p">:</span>       <span class="c1"># on a trouvé le motif</span>
<a id="__codelineno-0-14" name="__codelineno-0-14"></a>            <span class="n">positions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-0-15" name="__codelineno-0-15"></a>        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>   <span class="c1"># on décale d&#39;un caractère vers la droite</span>
<a id="__codelineno-0-16" name="__codelineno-0-16"></a>    <span class="k">return</span> <span class="n">positions</span>
<a id="__codelineno-0-17" name="__codelineno-0-17"></a>
<a id="__codelineno-0-18" name="__codelineno-0-18"></a>
<a id="__codelineno-0-19" name="__codelineno-0-19"></a><span class="n">chaine</span> <span class="o">=</span> <span class="s1">&#39;CTTCCGCTCGTATTCGTCTCACTCG&#39;</span>
<a id="__codelineno-0-20" name="__codelineno-0-20"></a><span class="n">motif</span> <span class="o">=</span> <span class="s1">&#39;TCACTC&#39;</span>
<a id="__codelineno-0-21" name="__codelineno-0-21"></a>
<a id="__codelineno-0-22" name="__codelineno-0-22"></a><span class="k">assert</span> <span class="n">naive</span><span class="p">(</span><span class="n">motif</span><span class="p">,</span> <span class="n">chaine</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">18</span><span class="p">]</span>
<a id="__codelineno-0-23" name="__codelineno-0-23"></a><span class="k">assert</span> <span class="n">naive</span><span class="p">(</span><span class="s1">&#39;AAA&#39;</span><span class="p">,</span> <span class="s1">&#39;AAAAA&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<a id="__codelineno-0-24" name="__codelineno-0-24"></a><span class="k">assert</span> <span class="n">naive</span><span class="p">(</span><span class="s1">&#39;AT&#39;</span><span class="p">,</span> <span class="s1">&#39;ATATAT&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>
<a id="__codelineno-0-25" name="__codelineno-0-25"></a><span class="k">assert</span> <span class="n">naive</span><span class="p">(</span><span class="s1">&#39;AZ&#39;</span><span class="p">,</span> <span class="n">chaine</span><span class="p">)</span> <span class="o">==</span> <span class="p">[]</span>
</code></pre></div></td></tr></table></div>
<p><img align="right" alt="La valeur finale de i est n-m inclus" src="../assets/5-naive-i-final-light-mode.png#only-light" width="30%" />
<img align="right" alt="La valeur finale de i est n-m inclus" src="../assets/5-naive-i-final-dark-mode.png#only-dark" width="30%" /></p>
<p>Attention à prendre soin de terminer la boucle sur le dernier caractère quand <code>i</code> vaut <code>n – m</code> <strong>inclus</strong>.</p>
<p>On constate que si l'algorithme fonctionne très bien, il est coûteux en temps machine et peut donc être optimisé. </p>
<h2 id="recherche-naive-a-rebours">Recherche naïve à rebours</h2>
<p>Une première modification consiste à inverser l'ordre dans lequel on compare les caractères du motif à ceux de la chaine : on part du dernier caractère du motif et s'il correspond à celui de la chaîne on passe au caractère précédent jusqu'à trouver une discordance ou avoir parcouru l'ensemble du motif (on a alors trouvé le motif).</p>
<p><img alt="Recherche naïve à rebours - étape 1" src="../assets/5-rebours-1.png" /></p>
<p>Le <code>C</code> du motif  ne correspond pas au <code>G</code> de la chaine, on décale le motif d'un caractère vers la droite et on essaie à nouveau :</p>
<p><img alt="Recherche naïve à rebours - étape 2" src="../assets/5-rebours-2.png" /></p>
<p>Le <code>C</code> du motif correspond à celui de la chaine, mais le <code>T</code> ne correspond pas au <code>G</code>, on décale le motif d'un caractère vers la droite :</p>
<p><img alt="Recherche naïve à rebours - étape 3" src="../assets/5-rebours-3.png" /></p>
<p>Le <code>C</code> du motif ne correspond pas au <code>T</code>, on décale le motif d'un caractère vers la droite :</p>
<p><img alt="Recherche naïve à rebours - étape 4" src="../assets/5-rebours-4.png" /></p>
<p>Le dernier <code>C</code>, puis le <code>T</code>  et encore le <code>C</code> correspondent aux caractères de la chaine, mais pas le <code>A</code>, on décale le motif d'un caractère vers la droite :</p>
<p>Et ainsi de suite...</p>
<p>Il suffit de modifier le code de la fonction Python pour parcourir les caractères du motif de droite à gauche, c'est-à-dire pour que <code>j</code> aille de <code>n - 1</code> jusqu'à <code>0</code> en décroissant :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-1-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-1-10">10</a></span>
<span class="normal"><a href="#__codelineno-1-11">11</a></span>
<span class="normal"><a href="#__codelineno-1-12">12</a></span>
<span class="normal"><a href="#__codelineno-1-13">13</a></span>
<span class="normal"><a href="#__codelineno-1-14">14</a></span>
<span class="normal"><a href="#__codelineno-1-15">15</a></span>
<span class="normal"><a href="#__codelineno-1-16">16</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-1-9" name="__codelineno-1-9"></a>    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="p">:</span>
<a id="__codelineno-1-10" name="__codelineno-1-10"></a>        <span class="n">j</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span>  <span class="mi">1</span>       <span class="c1"># position du caractère dans le motif</span>
<a id="__codelineno-1-11" name="__codelineno-1-11"></a>        <span class="k">while</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">chaine</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">motif</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
<a id="__codelineno-1-12" name="__codelineno-1-12"></a>            <span class="n">j</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span>
<a id="__codelineno-1-13" name="__codelineno-1-13"></a>        <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>       <span class="c1"># on a trouvé le motif</span>
<a id="__codelineno-1-14" name="__codelineno-1-14"></a>            <span class="n">positions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-1-15" name="__codelineno-1-15"></a>        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>   <span class="c1"># on décale d&#39;un caractère vers la droite</span>
<a id="__codelineno-1-16" name="__codelineno-1-16"></a>    <span class="k">return</span> <span class="n">positions</span>
</code></pre></div></td></tr></table></div>
<p>La modification n'a pas changé le cout de l'algorithme. Mais alors quel est l'intérêt ?</p>
<h2 id="lalgorithme-de-horspool">L'algorithme de Horspool</h2>
<p>Horspool<sup id="fnref:5.1"><a class="footnote-ref" href="#fn:5.1">1</a></sup> propose une version simplifiée de l'algorithme de Boyer-Moore.</p>
<p>Dans la recherche naïve à rebours, lorsque que le dernier caractère ne correspond pas au caractère de la chaîne, on décale le motif d'un caractère vers la droite. Mais on peut faire beaucoup mieux en regardant si ce caractère de la chaîne est présent, ou pas, autre part dans le motif :</p>
<p><img alt="Recherche Horspool - étape 1" src="../assets/5-horspool-1.png" /></p>
<p>Le <code>C</code> du motif ne correspond pas au <code>G</code> de la chaine. Plutôt que de décaler le motif d'un seul caractère vers la droite, on voit qu'il n'y a aucun <code>G</code> dans tout le motif. Il est inutile de comparer le motif après l'avoir décalé d'un seul caractère vers la droite, il y aura toujours une différence avec ce <code>G</code> dans la chaine.</p>
<p>On décale donc le motif vers la droite en  « sautant » de toute la longueur du motif ce qui permet de gagner beaucoup de temps :</p>
<p><img alt="Recherche Horspool - étape 2" src="../assets/5-horspool-2.png" /></p>
<p>Le <code>C</code> du motif ne correspond pas au <code>A</code> de la chaine. Mais il y a un <code>A</code> autre part dans la motif qui pourrait correspondre.  Il est placé 3 caractères avant le dernier caractère du motif. Alignons ce <code>A</code> du motif sur le <code>A</code> de la chaine. On décale le motif en « sautant » de 3 caractères vers la droite :</p>
<p><img alt="Recherche Horspool - étape 3" src="../assets/5-horspool-3.png" /></p>
<p>Le dernier <code>C</code> puis le <code>T</code> du motif correspondent aux caractères de la chaine, mais pas le <code>C</code> placé avant. Le caractère de la chaine qui est aligné sur le dernier caractère du motif est un <code>C</code>, or il y a d'autres <code>C</code> dans le motif qui pourraient correspondre : un placé 5 caractères avant le dernier caractère du motif et un autre 2 caractères avant.</p>
<p>On ne peut pas aligner le premier <code>C</code>, celui placé 5 caractères avant le dernier caractère du motif, car on irait trop loin sans avoir l'occasion d'essayer le deuxième <code>C</code>. Alignons plutôt ce deuxième <code>C</code>, celui placé 2 caractères avant le dernier caractère du motif, sur celui de la chaine. On décale le motif en « sautant » de 2 caractères vers la droite : </p>
<p><img alt="Recherche Horspool - étape 4" src="../assets/5-horspool-4.png" /></p>
<p>Le <code>C</code> du motif ne correspond pas au <code>T</code> de la chaine. Or il y a d'autres <code>T</code> dans le motif qui pourraient correspondre : un placé 6 caractères avant le dernier caractère du motif et un autre 1 caractère avant. Comme à l'étape précédante, on choisit le deuxième <code>T</code> du motif pour l'aligner sur celui de la chaine. On décale le motif en « sautant » de 1 caractère vers la droite :</p>
<p><img alt="Recherche Horspool - étape 5" src="../assets/5-horspool-5.png" /></p>
<p>Le <code>C</code> et le <code>T</code> du motif correspondent aux caractères de la chaine, mais ensuite le  <code>C</code> ne correspond pas au <code>G</code> de la chaine. On décale le motif en « sautant » de 2 caractères vers la droite pour aligner les <code>C</code> :</p>
<p><img alt="Recherche Horspool - étape 6" src="../assets/5-horspool-6.png" /></p>
<p>Le <code>C</code>, le <code>T</code> et le <code>C</code> du motif correspondent aux caractères de la chaine, mais pas le <code>A</code> au <code>T</code> de la chaine. On décale le motif en « sautant » de 2 caractères vers la droite pour aligner les <code>C</code> :</p>
<p><img alt="Recherche Horspool - étape 7" src="../assets/5-horspool-7.png" /></p>
<p>Le <code>C</code> du motif correspond à la chaine, mais pas le <code>T</code> avec le <code>A</code> de la chaine. On décale encore le motif en « sautant » de 2 caractères vers la droite pour aligner les <code>C</code> :</p>
<p><img alt="Recherche Horspool - étape 8" src="../assets/5-horspool-8.png" /></p>
<p>Tous les caractères du motif correspondent à ceux de la chaine. On a trouvé le motif en 8 étapes, au lieu de 18 avec l'algorithme naïf !</p>
<p>On voit que les sauts sont déterminés par le <strong>caractère de la chaine qui est aligné sur le dernier caractère du motif</strong>, appelons le « <strong>caractère de droite</strong> » . Ce saut est toujours le même pour un même caractère, quelle que soit la position où la différence est trouvée. Ici, dans notre exemple :</p>
<ul>
<li>Quand le caractère de droite est un <code>A</code>, on fait toujours un saut de 3 caractères.</li>
</ul>
<p><img alt="Saut quand la lettre est A" height="10%" src="../assets/5-horspool-saut-A.png" /></p>
<ul>
<li>Quand le caractère de droite est un <code>C</code>, on fait toujours un saut de 2 caractères quel que soit l'endroit où l'on trouve une différence avec la chaine.</li>
</ul>
<p><img alt="Un exemple de saut quand la lettre est C" height="10%" src="../assets/5-horspool-saut-C.png" /></p>
<p>On voit aussi que si le caractère de droite apparaît plusieurs fois dans le motif, on ne considère que celui qui est le plus à droite du motif.  Par exemple, ici <code>T</code> apparaît plusieurs fois dans le motif, on calcule son saut en considérant celui qui est le plus à droite du motif, c'est-à-dire un saut de 1 caractère.</p>
<p><img alt="Saut quand la lettre est T" height="10%" src="../assets/5-horspool-saut-T.png" /></p>
<p>Enfin, on voit que le dernier caractère du motif n'est pas pris en compte pour calculer les sauts (puisqu'il aurait un saut de 0). Par exemple, ici le dernier <code>C</code> n'est pas pris en compte pour calculer le saut correspondant au caractère <code>C</code>, on utilise celui qui est 2 caractères avant le dernier caractère du motif.</p>
<p><img alt="Un exemple de saut quand la lettre est C (en ignorant le dernier caractére)" height="10%" src="../assets/5-horspool-saut-C-2.png" /></p>
<p>Plutôt que de recalculer ces sauts à chaque fois qu'une différence est trouvée, on peut donc faire un prétraitement de l'algorithme de Horspool en calculant au début une seule fois le saut de chaque lettre du motif. </p>
<p>Dans notre exemple, la table des sauts pour le motif  <code>'TCACTC'</code> est donc la suivante :</p>
<table>
<thead>
<tr>
<th style="text-align: center;">A</th>
<th style="text-align: center;">C</th>
<th style="text-align: center;">T</th>
<th style="text-align: center;">autres</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">3</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">6</td>
</tr>
</tbody>
</table>
<p>Un dictionnaire Python permet d'enregistrer simplement les valeurs des sauts calculés pendant le prétraitement : <code>{'A': 3, 'C': 2, 'T': 1}</code>. Les autres caractères qui n'apparaissent pas dans le dictionnaire auront un saut égal à la longueur du motif.</p>
<div class="admonition abstract">
<p class="admonition-title">Cours</p>
<p>L'algorithme de Horspool consiste à comparer les caractères du motif avec ceux de la chaine un par un en remontant <strong>de droite à gauche</strong> jusqu'à trouver une différence.</p>
<p>Quand une différence est trouvée, on regarde le <strong>caractère de la chaine aligné sur le dernier caractère du motif</strong>. </p>
<ul>
<li>
<p>Si ce caractère est présent dans le motif, on décale le motif d'un <strong>saut</strong> pour aligner ce caractère de la chaine avec sa <strong>dernière</strong> occurence dans le motif.</p>
</li>
<li>
<p>Si ce caractère n'est pas présent dans le motif, on décale le motif d'un <strong>saut</strong> de la longueur du motif pour passer au delà de ce caractère.</p>
</li>
</ul>
<p>Prétraitement des sauts :  Pour chaque lettre du motif (sauf la dernière), le saut à effectuer est égal à l'écart entre la dernière occurrence de cette lettre dans le motif et la fin du motif. On ne calcule pas de saut pour le dernier caractère.</p>
</div>
<p>Ecrivons le prétraitement en Python :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">table_sauts</span><span class="p">(</span><span class="n">motif</span><span class="p">):</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    <span class="n">d</span> <span class="o">=</span> <span class="p">{}</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>    <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">motif</span><span class="p">)</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>  <span class="c1"># on exclut la derniere lettre du motif</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>        <span class="n">d</span><span class="p">[</span><span class="n">motif</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    <span class="k">return</span> <span class="n">d</span>
</code></pre></div>
<p>et le reste de l'algorithme de Horspool :</p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-3-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-3-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-3-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-3-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-3-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-3-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-3-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-3-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-3-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-3-10">10</a></span>
<span class="normal"><a href="#__codelineno-3-11">11</a></span>
<span class="normal"><a href="#__codelineno-3-12">12</a></span>
<span class="normal"><a href="#__codelineno-3-13">13</a></span>
<span class="normal"><a href="#__codelineno-3-14">14</a></span>
<span class="normal"><a href="#__codelineno-3-15">15</a></span>
<span class="normal"><a href="#__codelineno-3-16">16</a></span>
<span class="normal"><a href="#__codelineno-3-17">17</a></span>
<span class="normal"><a href="#__codelineno-3-18">18</a></span>
<span class="normal"><a href="#__codelineno-3-19">19</a></span>
<span class="normal"><a href="#__codelineno-3-20">20</a></span>
<span class="normal"><a href="#__codelineno-3-21">21</a></span>
<span class="normal"><a href="#__codelineno-3-22">22</a></span>
<span class="normal"><a href="#__codelineno-3-23">23</a></span>
<span class="normal"><a href="#__codelineno-3-24">24</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">horspool</span><span class="p">(</span><span class="n">motif</span><span class="p">,</span> <span class="n">chaine</span><span class="p">):</span>
<a id="__codelineno-3-2" name="__codelineno-3-2"></a>    <span class="n">positions</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-3-3" name="__codelineno-3-3"></a>    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
<a id="__codelineno-3-4" name="__codelineno-3-4"></a>    <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">motif</span><span class="p">)</span>
<a id="__codelineno-3-5" name="__codelineno-3-5"></a>    <span class="n">sauts</span> <span class="o">=</span> <span class="n">table_sauts</span><span class="p">(</span><span class="n">motif</span><span class="p">)</span> <span class="c1"># on construit le dictionnaire « table de saut »</span>
<a id="__codelineno-3-6" name="__codelineno-3-6"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
<a id="__codelineno-3-7" name="__codelineno-3-7"></a>    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-3-8" name="__codelineno-3-8"></a>    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="p">:</span>
<a id="__codelineno-3-9" name="__codelineno-3-9"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="n">motif</span><span class="p">)</span>     <span class="c1"># affiche le motif aligné avec la chaine</span>
<a id="__codelineno-3-10" name="__codelineno-3-10"></a>        <span class="n">j</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span>  <span class="mi">1</span>       <span class="c1"># position du caractère dans le motif</span>
<a id="__codelineno-3-11" name="__codelineno-3-11"></a>        <span class="n">car_droite</span> <span class="o">=</span> <span class="n">chaine</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>    <span class="c1"># caractère de droite</span>
<a id="__codelineno-3-12" name="__codelineno-3-12"></a>        <span class="k">while</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">chaine</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">motif</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
<a id="__codelineno-3-13" name="__codelineno-3-13"></a>            <span class="n">j</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span>
<a id="__codelineno-3-14" name="__codelineno-3-14"></a>        <span class="c1"># si on a trouvé le motif</span>
<a id="__codelineno-3-15" name="__codelineno-3-15"></a>        <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-3-16" name="__codelineno-3-16"></a>            <span class="n">positions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-3-17" name="__codelineno-3-17"></a>            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">sauts</span><span class="p">[</span><span class="n">car_droite</span><span class="p">]</span> 
<a id="__codelineno-3-18" name="__codelineno-3-18"></a>        <span class="c1"># sinon si le caractère de droite est dans la table des sauts</span>
<a id="__codelineno-3-19" name="__codelineno-3-19"></a>        <span class="k">elif</span> <span class="n">car_droite</span> <span class="ow">in</span> <span class="n">sauts</span><span class="p">:</span>
<a id="__codelineno-3-20" name="__codelineno-3-20"></a>            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">sauts</span><span class="p">[</span><span class="n">car_droite</span><span class="p">]</span>   <span class="c1"># on saute de la table de sauts</span>
<a id="__codelineno-3-21" name="__codelineno-3-21"></a>        <span class="c1"># sinon</span>
<a id="__codelineno-3-22" name="__codelineno-3-22"></a>        <span class="k">else</span><span class="p">:</span>      <span class="c1"># le caractère de droite n&#39;est pas dans le motif</span>
<a id="__codelineno-3-23" name="__codelineno-3-23"></a>            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">m</span>    <span class="c1"># on saute tout le motif</span>
<a id="__codelineno-3-24" name="__codelineno-3-24"></a>    <span class="k">return</span> <span class="n">positions</span>
</code></pre></div></td></tr></table></div>
<p>L'algorithme de Horspool n'améliore pas le pire des cas de la recherche naïve, si le motif et la chaine contiennent tous les deux une seule et même lettre, le coût est toujours en <span class="arithmatex">\(O(n \times m)\)</span>, où <span class="arithmatex">\(n\)</span> est la longueur de la chaine et <span class="arithmatex">\(m\)</span> celle du motif. Par contre dans le meilleur des cas, si le dernier caractère du motif n'est pas présent dans la chaine, les sauts permettent d'améliorer fortement le coût en <span class="arithmatex">\(O(n/m)\)</span>.</p>
<h2 id="lalgorithme-de-boyer-moore">L'algorithme de Boyer-Moore</h2>
<p>On présente ici une version de l'algorithme de Boyer-Moore que l'on trouve sur la page <a href="https://en.wikipedia.org/wiki/Boyer%E2%80%93Moore_string-search_algorithm">https://en.wikipedia.org/wiki/Boyer–Moore_string-search_algorithm</a> et dans certains livres de NSI<sup id="fnref:5.2"><a class="footnote-ref" href="#fn:5.2">2</a></sup> , il en existe d'autres légèrement différentes.</p>
<h3 id="la-regle-du-mauvais-caractere-bad-character-rule">La règle du mauvais caractère (<em>bad-character rule</em>)</h3>
<p>On peut adapter l'idée d'un saut calculé sur le caractère de droite en utilisant à la place le premier mauvais caractère.</p>
<p><img alt="Recherche Boyer-Moore - étape 1" src="../assets/5-horspool-1.png" /></p>
<p>Comme avec Horspool, quand on trouve dans la chaine un caractère qui n'est pas présent dans le motif, on peut « sauter »  derrière celui-ci. Le <code>C</code> du motif ne correspond pas au <code>G</code> de la chaine. Il n'y a aucun <code>G</code> dans le motif, on décale  le motif vers la droite en « sautant » de toute la longueur du motif :</p>
<p><img alt="Recherche Boyer-Moore - étape 2" src="../assets/5-horspool-2.png" /></p>
<p>Le <code>C</code> du motif ne correspond pas au <code>A</code> de la chaine, mais il y a un <code>A</code> dans la chaîne 3 caractères à droite du dernier caractère du motif. On peut aligner ce dernier <code>A</code> du motif en « sautant » de 3 caractères (même chose qu'avec Horspool) :</p>
<p><img alt="Recherche Boyer-Moore - étape 3" src="../assets/5-boyer-moore-3.png" /></p>
<p>Le <code>C</code> et le <code>T</code> du motif correspondent aux caratères de la chaine, mais pas le <code>C</code> avec le <code>T</code> de la chaine. Plutôt que de calculer le saut en fonction du <code>C</code> aligné avec le caractère à droite du motif comme le fait l'algorithme d'Horspool (c'est-à-dire un saut de 2 caractères), on utilise le premier <strong>mauvais caractère</strong>, ici <code>T</code>, pour calculer le saut. Il y a un <code>T</code> dans le motif à gauche de ce mauvais caractère, on peut aligner ces <code>T</code> et  sauter de 3 caractères.  Attention, on ne prend pas en compte le <code>T</code> dans le motif placé à droite du mauvais caractère.</p>
<p>C'est comme si on calculait la table des sauts pour un motif réduit à la sous-chaine reduite à la gauche du mauvais caractère, <code>TCAC</code> :</p>
<table>
<thead>
<tr>
<th style="text-align: center;">A</th>
<th style="text-align: center;">C</th>
<th style="text-align: center;">T</th>
<th style="text-align: center;">autres</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
</tr>
</tbody>
</table>
<p><img alt="Recherche Boyer-Moore - étape 4" src="../assets/5-boyer-moore-4.png" /></p>
<p>Le <code>C</code>  et le <code>T</code> du motif correspondent à la chaine, mais pas le <code>C</code> avec le <code>G</code> de la chaine.  Il n'y a pas de <code>G</code> dans la partie droite du motif (il n'y en a pas du tout), on « saute » de toute la longueur du motif à gauche du mauvais caractère, c'est-à-dire de 4 caractères, pour placer le motif après le <code>G</code> :</p>
<p><img alt="Recherche Boyer-Moore - étape 5" src="../assets/5-boyer-moore-5.png" /></p>
<p>Le <code>C</code> du motif correspond à la chaine, mais pas le <code>T</code> avec le <code>A</code>. Le mauvais caractère est un <code>A</code> et il y a un <code>A</code> dans le motif à droite du mauvais caractère, on « saute » de 2 caractères pour aligner les <code>A</code>. </p>
<p><img alt="Recherche Boyer-Moore - étape 6" src="../assets/5-boyer-moore-6.png" /></p>
<p>Tous les caractères correspondent. On a trouvé le motif en 6 étapes, au lieu de 8 avec Horspool !</p>
<p>A la différence de Horspool, les sauts ne dépendent pas que d'un seul caractère dans la chaine (le caractère à droite), ils dépendent du mauvais caractère et de sa position dans le motif.  La table des sauts a donc deux entrées : les caractères du motif qui pourraient être des mauvais caractères et la position <code>j</code> à laquelle ils se trouveraient dans le motif :</p>
<ul>
<li>
<p>Pour <code>j = 5</code>, les sauts sont calculés sur la position du dernier caractère du motif, on retrouve les sauts de Horspool.</p>
</li>
<li>
<p>Pour les autres valeurs de <code>j</code>, il faut calculer les sauts sans prendre en compte les caractères qui coïncident, par exemple pour <code>j = 3</code>, les sauts correspondent aux sauts Horpsool pour le motif  <code>TCAC</code>, c'est-à-dire en ignorant les derniers caractères <code>TC</code> (puisqu'ils coïncident avec la chaîne).</p>
</li>
<li>
<p>Certaines valeurs ont un <code>X</code> pour les caractères qui correspondent au motif (ce n'est pas un mauvais caractère). </p>
</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: center;">j (lettre)</th>
<th style="text-align: center;">A</th>
<th style="text-align: center;">C</th>
<th style="text-align: center;">T</th>
<th style="text-align: center;">autres</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">0 (T)</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">1</td>
</tr>
<tr>
<td style="text-align: center;">1 (C)</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
</tr>
<tr>
<td style="text-align: center;">2 (A)</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">3</td>
</tr>
<tr>
<td style="text-align: center;">3 (C)</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">4</td>
</tr>
<tr>
<td style="text-align: center;">4 (T)</td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">5</td>
</tr>
<tr>
<td style="text-align: center;">5 (C)</td>
<td style="text-align: center;">3</td>
<td style="text-align: center;">X</td>
<td style="text-align: center;">1</td>
<td style="text-align: center;">6</td>
</tr>
</tbody>
</table>
<div class="admonition abstract">
<p class="admonition-title">Cours</p>
<p>L'algorithme de Boyer-Moore consiste à comparer les caractères du motif avec ceux de la chaine un par un en remontant <strong>de droite à gauche</strong> jusqu'à trouver une différence.</p>
<p>Règle du mauvais caractère : Quand une différence est trouvée, on regarde le <strong>caractère de la chaine qui est différent du motif</strong>, c'est le <strong>mauvais caractère</strong>. </p>
<ul>
<li>
<p>Si ce mauvais caractère de la chaine est aussi présent dans la partie du motif qui est à gauche de l'emplacement du mauvais caractère, on décale le motif d'un <strong>saut</strong> pour aligner ce mauvais caractère de la chaine avec sa <strong>dernière</strong> occurence dans le motif à gauche de la différence trouvée.</p>
</li>
<li>
<p>Si ce mauvais caractère de la chaine n'est pas présent dans la partie du motif qui à gauche de l'emplacement du mauvais caractère, on décale le motif d'un <strong>saut</strong> pour passer au delà de la différence trouvée.</p>
</li>
</ul>
<p>Prétraitement des sauts :  Pour chaque lettre du motif (sauf la dernière), et pour chaque position du mauvais caractère, le saut à effectuer est égal à l'écart entre la dernière occurrence de cette lettre dans le motif (en restant à gauche du mauvais caractère) et la position du mauvais caractère. On ne calcule pas de saut pour le dernier caractère.</p>
</div>
<p>En Python, on peut construire cette table des sauts avec un tableau de dictionnaire :</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="p">[{},</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a> <span class="p">{</span><span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a> <span class="p">{</span><span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;T&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}]</span>
</code></pre></div>
<p>La programmation de l'algorithme de Boyer-Moore dépasse le niveau attendu en NSI. </p>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"><a href="#__codelineno-5-1"> 1</a></span>
<span class="normal"><a href="#__codelineno-5-2"> 2</a></span>
<span class="normal"><a href="#__codelineno-5-3"> 3</a></span>
<span class="normal"><a href="#__codelineno-5-4"> 4</a></span>
<span class="normal"><a href="#__codelineno-5-5"> 5</a></span>
<span class="normal"><a href="#__codelineno-5-6"> 6</a></span>
<span class="normal"><a href="#__codelineno-5-7"> 7</a></span>
<span class="normal"><a href="#__codelineno-5-8"> 8</a></span>
<span class="normal"><a href="#__codelineno-5-9"> 9</a></span>
<span class="normal"><a href="#__codelineno-5-10">10</a></span>
<span class="normal"><a href="#__codelineno-5-11">11</a></span>
<span class="normal"><a href="#__codelineno-5-12">12</a></span>
<span class="normal"><a href="#__codelineno-5-13">13</a></span>
<span class="normal"><a href="#__codelineno-5-14">14</a></span>
<span class="normal"><a href="#__codelineno-5-15">15</a></span>
<span class="normal"><a href="#__codelineno-5-16">16</a></span>
<span class="normal"><a href="#__codelineno-5-17">17</a></span>
<span class="normal"><a href="#__codelineno-5-18">18</a></span>
<span class="normal"><a href="#__codelineno-5-19">19</a></span>
<span class="normal"><a href="#__codelineno-5-20">20</a></span>
<span class="normal"><a href="#__codelineno-5-21">21</a></span>
<span class="normal"><a href="#__codelineno-5-22">22</a></span>
<span class="normal"><a href="#__codelineno-5-23">23</a></span>
<span class="normal"><a href="#__codelineno-5-24">24</a></span>
<span class="normal"><a href="#__codelineno-5-25">25</a></span>
<span class="normal"><a href="#__codelineno-5-26">26</a></span>
<span class="normal"><a href="#__codelineno-5-27">27</a></span>
<span class="normal"><a href="#__codelineno-5-28">28</a></span>
<span class="normal"><a href="#__codelineno-5-29">29</a></span>
<span class="normal"><a href="#__codelineno-5-30">30</a></span>
<span class="normal"><a href="#__codelineno-5-31">31</a></span>
<span class="normal"><a href="#__codelineno-5-32">32</a></span></pre></div></td><td class="code"><div><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1"></a><span class="k">def</span><span class="w"> </span><span class="nf">table_sauts_bm</span><span class="p">(</span><span class="n">motif</span><span class="p">):</span>
<a id="__codelineno-5-2" name="__codelineno-5-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot; str -&gt; list(dict)</span>
<a id="__codelineno-5-3" name="__codelineno-5-3"></a><span class="sd">    Renvoie un tableau de dictionnaires de sauts pour les valeurs de j</span>
<a id="__codelineno-5-4" name="__codelineno-5-4"></a><span class="sd">    &quot;&quot;&quot;</span>
<a id="__codelineno-5-5" name="__codelineno-5-5"></a>    <span class="n">tab</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-5-6" name="__codelineno-5-6"></a>    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">motif</span><span class="p">)):</span>
<a id="__codelineno-5-7" name="__codelineno-5-7"></a>        <span class="n">tab</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">table_sauts</span><span class="p">(</span><span class="n">motif</span><span class="p">[:</span><span class="n">j</span><span class="o">+</span><span class="mi">1</span><span class="p">]))</span>
<a id="__codelineno-5-8" name="__codelineno-5-8"></a>    <span class="k">return</span> <span class="n">tab</span>
<a id="__codelineno-5-9" name="__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">boyer_moore</span><span class="p">(</span><span class="n">motif</span><span class="p">,</span> <span class="n">chaine</span><span class="p">):</span>
<a id="__codelineno-5-11" name="__codelineno-5-11"></a>    <span class="n">positions</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-5-12" name="__codelineno-5-12"></a>    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
<a id="__codelineno-5-13" name="__codelineno-5-13"></a>    <span class="n">m</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">motif</span><span class="p">)</span>
<a id="__codelineno-5-14" name="__codelineno-5-14"></a>    <span class="n">sauts</span> <span class="o">=</span> <span class="n">table_sauts_bm</span><span class="p">(</span><span class="n">motif</span><span class="p">)</span> <span class="c1"># on construit le dictionnaire « table de saut »</span>
<a id="__codelineno-5-15" name="__codelineno-5-15"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
<a id="__codelineno-5-16" name="__codelineno-5-16"></a>    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-5-17" name="__codelineno-5-17"></a>    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">n</span> <span class="o">-</span> <span class="n">m</span><span class="p">:</span> 
<a id="__codelineno-5-18" name="__codelineno-5-18"></a>        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39; &#39;</span> <span class="o">*</span> <span class="n">i</span> <span class="o">+</span> <span class="n">motif</span><span class="p">)</span>     <span class="c1"># affiche le motif aligné avec la chaine</span>
<a id="__codelineno-5-19" name="__codelineno-5-19"></a>        <span class="n">j</span> <span class="o">=</span> <span class="n">m</span> <span class="o">-</span> <span class="mi">1</span>   <span class="c1"># position du caractère dans le motif</span>
<a id="__codelineno-5-20" name="__codelineno-5-20"></a>        <span class="n">coincide</span> <span class="o">=</span> <span class="mi">0</span>
<a id="__codelineno-5-21" name="__codelineno-5-21"></a>        <span class="k">while</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">chaine</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span> <span class="o">==</span> <span class="n">motif</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>
<a id="__codelineno-5-22" name="__codelineno-5-22"></a>            <span class="n">j</span> <span class="o">=</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span>
<a id="__codelineno-5-23" name="__codelineno-5-23"></a>        <span class="c1"># si on a trouvé le motif</span>
<a id="__codelineno-5-24" name="__codelineno-5-24"></a>        <span class="k">if</span> <span class="n">j</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
<a id="__codelineno-5-25" name="__codelineno-5-25"></a>            <span class="n">positions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a id="__codelineno-5-26" name="__codelineno-5-26"></a>            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
<a id="__codelineno-5-27" name="__codelineno-5-27"></a>        <span class="c1"># sinon si le mauvais caractère est dans le motif</span>
<a id="__codelineno-5-28" name="__codelineno-5-28"></a>        <span class="k">elif</span> <span class="n">chaine</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">]</span> <span class="ow">in</span> <span class="n">sauts</span><span class="p">[</span><span class="n">j</span><span class="p">]:</span>    <span class="c1">#</span>
<a id="__codelineno-5-29" name="__codelineno-5-29"></a>            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">sauts</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">chaine</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="n">j</span><span class="p">]]</span>    <span class="c1"># on saute de la table de sauts</span>
<a id="__codelineno-5-30" name="__codelineno-5-30"></a>        <span class="k">else</span><span class="p">:</span>                <span class="c1"># le caractère n&#39;est pas dans le motif</span>
<a id="__codelineno-5-31" name="__codelineno-5-31"></a>            <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="n">j</span> <span class="o">+</span> <span class="mi">1</span>    <span class="c1"># on saute tout le motif</span>
<a id="__codelineno-5-32" name="__codelineno-5-32"></a>    <span class="k">return</span> <span class="n">positions</span>
</code></pre></div></td></tr></table></div>
<h3 id="regle-du-bon-suffixe-good-suffix-rule">Règle du bon suffixe (<em>good-suffix rule</em>)</h3>
<p>Dans le cas où certains caractères du motif correspondent à ceux de la chaine, l'algorithme de Boyer-Moore calcule un saut supplémentaire en utilisant les « bons » caractères placés à droite du mauvais caractère : le « bon suffixe ».</p>
<p>Reprenons à l'étape 3 :
<img alt="Recherche Boyer-Morre avec la règle du bon suffixe - étape 3" src="../assets/5-boyer-moore-3-bs.png" /></p>
<p>Le <code>C</code> et le <code>T</code> du motif correspondent à la chaine, mais pas le <code>C</code>  avec le <code>T</code> de la chaine. </p>
<p>La règle du mauvais caractère, ici <code>T</code>, nous dit d'aligner ce  <code>T</code> avec le <code>T</code> du motif placé à gauche du mauvais caractère, c'est à dire un saut de 3 caractères.</p>
<p>On observe par ailleurs que les deux premiers caractères du motif que l'on a comparés à la chaine, le <code>C</code> et le <code>T</code> du motif, étaient « bons », ils forment un « <strong>bon suffixe</strong> ». Hors ce bon suffixe apparait aussi dans le motif, tout à gauche du motif, et pas après. On peut donc aussi aligner ces bons suffixes, ce qui permet de faire un saut de 4 caractères.</p>
<p>L'algorithme de Boyer-Moore applique le meilleur des deux, c'est un saut de 4 caractères :</p>
<p><img alt="Recherche Boyer-Morre avec la règle du bon suffixe - étape 4" src="../assets/5-boyer-moore-4-bs.png" /></p>
<p>Ici, le mauvais caractère est <code>T</code>, la règle du  mauvais caractère nous permet d'aligner ce <code>T</code> avec le <code>T</code> du motif à gauche, c'est-à-dire de « sauter » d'1 caractère. Il n'y a pas de bon suffixe, on saute d'un caractère :</p>
<p><img alt="Recherche Boyer-Morre avec la règle du bon suffixe - étape 5" src="../assets/5-boyer-moore-5-bs.png" /></p>
<p>Le <code>C</code>, puis le <code>T</code>, puis le <code>C</code> du motif correspondent à la chaine, mais le <code>A</code> ne correspond pas au <code>T</code> de la chaine. On a donc un mauvais caractère <code>T</code> et un bon suffixe <code>CTC</code> .</p>
<p>La règle du « mauvais caractère » nous permet de « sauter » de seulement 2 caractères (on ne prend en compte que le premier <code>T</code> du motif, le second est trop à droite). La règle du bon suffixe nous permet d'aligner les <code>TC</code> en « sautant » de 4 caractères. On applique la meilleure des deux règles :</p>
<p><img alt="Recherche Boyer-Morre avec la règle du bon suffixe - étape 6" src="../assets/5-boyer-moore-6-bs.png" /></p>
<p>On a trouvé le motif en 6 étapes.</p>
<p>La règle du « bon suffixe » consiste à calculer une seconde table :</p>
<table>
<thead>
<tr>
<th style="text-align: right;">Bon suffixe</th>
<th style="text-align: center;">Saut</th>
<th style="text-align: center;"></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: right;"><code>C</code></td>
<td style="text-align: center;">2</td>
<td style="text-align: center;">Si le bon suffixe est <code>C</code>, on peut « sauter » de 2 caractères comme Horspool</td>
</tr>
<tr>
<td style="text-align: right;"><code>TC</code></td>
<td style="text-align: center;">4</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: right;"><code>CTC</code></td>
<td style="text-align: center;">4</td>
<td style="text-align: center;">On aligne avec le <code>TC</code> du début du motif</td>
</tr>
<tr>
<td style="text-align: right;"><code>ACTC</code></td>
<td style="text-align: center;">4</td>
<td style="text-align: center;"></td>
</tr>
<tr>
<td style="text-align: right;"><code>CACTC</code></td>
<td style="text-align: center;">4</td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
<div class="admonition abstract">
<p class="admonition-title">Cours</p>
<p>L'algorithme de Boyer-Moore consiste à comparer les caractères du motif avec ceux de la chaine un par un en remontant <strong>de droite à gauche</strong> jusqu'à trouver une différence.</p>
<p>Règle du bon suffixe : Quand une différence est trouvée, on regarde les <strong>caractères de la chaine à droite du mauvais caractère</strong>, c'est le <strong>bon suffixe</strong>. </p>
<ul>
<li>
<p>Si ce bon suffixe est présent dans le motif à droite, on décale le motif d'un <strong>saut</strong> pour aligner ce bon suffixe avec sa <strong>dernière</strong> occurence dans le motif.</p>
</li>
<li>
<p>Si ce bon suffixe n'est pas présent dans le motif, on décale le motif d'un <strong>saut</strong> de la longueur du motif pour passer à droite du bon suffixe.</p>
</li>
</ul>
<p>L'algorithme de Boyer Moore consiste à prendre à chaque étape le plus grand saut entre les deux tables.</p>
</div>
<p>On peut regarder l'animation de <a href="http://fred.boissac.free.fr/AnimsJS/recherchetextuelle/index.html">http://fred.boissac.free.fr/AnimsJS/recherchetextuelle/index.html</a>   </p>
<div class="footnote">
<hr />
<ol>
<li id="fn:5.1">
<p><a href="https://webhome.cs.uvic.ca/~nigelh/Publications/stringsearch.pdf">https://webhome.cs.uvic.ca/~nigelh/Publications/stringsearch.pdf</a>&#160;<a class="footnote-backref" href="#fnref:5.1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:5.2">
<p>Thibaut Balabonski, Sylvain Conchon, Jean-Christophe Filliâtre, Kim Nguyen, <em>Numérique et Sciences Informatiques, 24 leçons avec exercices corrigés</em>, Ellipses&#160;<a class="footnote-backref" href="#fnref:5.2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Licence Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> Mise à disposition selon les termes de la <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Licence Creative Commons Attribution - Pas d’Utilisation Commerciale - Partage dans les Mêmes Conditions 4.0 International</a>.

    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.prune", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "toc.integrate", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>